<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Stork's Nest</title>
  <link rel="stylesheet" href="stylesSIGN.css">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover"> 

  <style>
    #creatorUsername::placeholder {
    color: white; 
    opacity: 1; 
    padding-left: 0.1rem;

  }

  #creatorPassword::placeholder {
    color: white;
    padding-left: 0.1rem;
    opacity: 1;
  }

  #creatorPassword2::placeholder {
    color: white;
    padding-left: 0.1rem;
    opacity: 1;
  }
   #newUsername::placeholder {
    color: white;
    padding-left: 0.3rem;
    opacity: 1;
  }
    .editable-text {
      cursor: pointer;
      padding: 1px;

      /*
  backdrop-filter: blur(2.4px) ; 
  -webkit-backdrop-filter: blur(2.4px) ; */
text-shadow: 0 0 3px black;
  background: transparent;
    }

    
    .editable-text:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }
    
    .editable-text:focus {
      outline: 2px solid #ffffff;
      background-color: rgba(0, 0, 0, 0.2);
    }

    .resize-handle {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 15px;
  height: 15px;
  background-color: #00ffc3c3;
  cursor: nwse-resize;
  border-radius: 3px;
  box-shadow: 0 0 2px rgba(255, 255, 255, 0.723);
  z-index: 11;
}

  </style>
</head>
<body>

<!--
<section id="s0" >
    <header>Stork's Nest</header>

    <div id="dropDown">
       <img src="home.png">
    </div>

    <div id="s0Div1" class="hidden1">
       <h2>Bring Your Ideas to Life</h2>
       <p> Stork‚Äôs Nest is your creative space to design stunning, personalized galleries in just a few clicks.<br><br> Whether you want to showcase memories, build a portfolio, or create a unique visual experience, this platform gives you complete control‚Äîno coding required.  </p>
      </div>
      <div id="s0Div12" class="hidden12">
        <h2>Aimed at</h2>
        <p> Small businesses or those who want bla bla.Small businesses or those who want bla bla.<br>Small businesses or those who want bla bla.Small businesses or those who want bla bla.<br>kops </p>
       </div>


    <div id="s0Div2" class="hidden2">
        <h2>Simple, Flexible, Powerful</h2>
       <p> Upload your images or videos, choose your preferred background and animation styles, and add custom text to make each section your own.<br> <br>With our intuitive tools, you can preview, edit, and perfect every detail. Build one section at a time, confirm your design, and watch your gallery come alive with smooth animations and clean layouts.   </p>
       </div>

       <div id="s0Div22" class="hidden22">
        <h2>Join Now</h2>
        <p> Small businesses or those who want bla bla.Small businesses or those who want bla bla.<br>Small businesses or those who want bla bla.Small businesses or those who want bla bla.<br>kops </p>
       </div>

      <div id="s0Div3" class="hidden3">
        <h2>Stork's Nest Tool</h2>
<button id="toggleSectionBtn" style="pointer-events: all;" >Get Started</button>
     </div>


     <div id="cookiePolicy" >
        <div id="cookieAdiv">

<a id="a1">9100, Finland</a>
<a id="a2">Stork's Nest¬© - All rights reserved</a>
<a id="a3">Cookie Preferences</a>
<a id="a4">Terms and Conditions</a>

</div></div>

</section>
-->


<section id="s1" style="width: 100vw; ">
<div id="poks">
    <div class="bg" style="filter: brightness(0.8); background-image: url('s2.jpg');"></div>
    <div class="bg" style="filter: brightness(0.8); background-image: url('nico.jpg');"></div>
    <div class="bg" style="filter: brightness(0.8); background-image: url('eyp2.jpg');"></div>
    <div class="bg" style="filter: brightness(0.8); background-image: url('har.jpg');"></div>

</div>


<div id="header">
    <h1>Stork's Nest</h1>
</div>




    <div id="modePrompt" style="position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center;  height: 100%;">
        <div id="modePrompt2" style="box-shadow: 0 0 6px rgb(0, 0, 0); padding-bottom: 6svh; border: none; border-radius: 12px;">
        <label><br>
         <h3 id="h3" style="margin-bottom: 8svh;  font-weight: lighter; font-family: Georgia, 'Times New Roman', Times, serif;">Get Started</h3>
         <input placeholder="Email"  type="username" id="creatorUsername" style="box-shadow: 0 2px 8px black;  font-size: 1.3rem; min-width: 220px; width: 80%; max-width: 320px; height: 48px; padding: 0; border: none; border-radius: 6px;">
            <input placeholder="Password" type="password" id="creatorPassword" style="box-shadow: 0 2px 8px black;  font-size: 1.3rem; min-width: 220px; width: 80%; max-width: 320px; height: 48px; padding: 0; border: none; border-radius: 6px;"> 
        </label>
        <button id="enterCreator" style="font-weight: bolder; box-shadow: 0 2px 8px black; font-size: 1.4rem; width: 240px; height: 48px; border: none; border-radius: 6px; padding-top: 0.3rem; padding-bottom: 0.3rem; ">Log In</button>

    </div>
    <button href="#" id="showCreate" onclick="navigateTo('createSection')">Create an Account</button>

      </div>


      <div id="cookiePolicy">
        <div id="cookieAdiv">

<a id="a1">9100, Finland</a>
<a id="a2">Stork's Nest¬© - All rights reserved</a>
<a id="a3">Cookie Preferences</a>
<a id="a4">Terms and Conditions</a>

</div></div>

</section>


<section id="createSection" style=" position: absolute; width: 100vw;  flex-direction: column; align-items: center; justify-content: center;  height: 100%;">
   

    <div id="poks">
        <div class="bg" style="filter: brightness(0.8); background-image: url('s2.jpg');"></div>
        <div class="bg" style="filter: brightness(0.8); background-image: url('nico.jpg');"></div>
        <div class="bg" style="filter: brightness(0.8); background-image: url('eyp2.jpg');"></div>
        <div class="bg" style="filter: brightness(0.8); background-image: url('har.jpg');"></div>
    
    </div>

    <div id="modePrompt3" style=" box-shadow: 0 0 6px rgb(0, 0, 0); padding-bottom: 6svh; border: none; border-radius: 12px;">

    <div class="formBox" >
      <h2 id="h3" style="margin-bottom: 8svh;  font-weight: lighter; font-family: Georgia, 'Times New Roman', Times, serif;">Create Account</h2>
      <label style="display: flex; flex-direction: column; align-items: center; align-self: center; align-content: center; text-align: center;">
        <input type="text" id="newUsername" placeholder="Username" style="box-shadow: 0 2px 8px black;  font-size: 1.3rem; min-width: 220px; width: 80%; max-width: 320px; height: 48px; padding: 0; border: none; border-radius: 6px;">
      

        <input placeholder="Password" type="password" id="creatorPassword2" style="box-shadow: 0 2px 8px black;  font-size: 1.3rem; min-width: 220px; width: 80%; max-width: 320px; height: 48px; padding: 0; border: none; border-radius: 6px;"> 


    </label>
      <button id="createAccount" style="font-weight: bolder; box-shadow: 0 2px 8px black; font-size: 1.4rem; width: 240px; height: 48px; border: none; border-radius: 6px; padding-top: 0.3rem; padding-bottom: 0.3rem; margin-top: 1rem;">Create Account</button>
      <div id="accountMsg">Enter a username to create an account.</div>
      <p style="margin-top:16px; font-size: 1.2rem; font-weight: bolder; color: white; ">Or<br><br> <a href="#" id="showLogin" style="margin-top:16px; font-size: 1.2rem; font-weight: bolder; color: white;">Back to login</a></p>
    </div>
    </div>


    <div id="cookiePolicy">
        <div id="cookieAdiv">

<a id="a1">9100, Finland</a>
<a id="a2">Stork's Nest¬© - All rights reserved</a>
<a id="a3">Cookie Preferences</a>
<a id="a4">Terms and Conditions</a>

</div>
      </div>


    </div>
  </section>
  


<section id="s2">

<div id="buttonDiv">
    <button id="inf"  onclick="document.getElementById('infoBox').style.display='flex', document.getElementById('controls').style.display='none', document.getElementById('buttonDiv').style.display='none'">Guide</button>

    <button id="toggleEditorBtn">Preview</button>


    <button id="toggle" onclick="toggle()">Hide Editor</button>
   
</div>





<div id="infoBox" >
    <div id="scrollInfoBox">
    <h2 style="text-align: center; font-weight: bolder;">Stork's Nest User Guide</h2><br>
    <p><strong >üõ† Tools Panel</strong><br><br>
        Upload Files ‚Üí Add one or more images/videos to your site.<br>
        Body Color ‚Üí Select a theme color for the whole site.(This will change the top part of the websites coloring)<br>
        Animation Style ‚Üí Apply fade, slide, or bounce effects to your media.<br>
        Add Text ‚Üí Insert captions or custom notes.<br>
        Confirm Button ‚Üí Save and apply your chosen changes.<br>
<br>Controls that appear to the bottom of each section individually after you confirm the page:<br>
        Section Background ‚Üí Choose a background color for the image you are currently on.<br>
        Scale Image ‚Üí Use the drag button to scale your image to your preferred size.<br>
        Filters ‚Üí Option to apply and choose a filter for the media.<br>

       <br>Note that you can build and edit only single section at a time.</p>
    <br><br><br>
        <p><strong >üëÅ Display Controls</strong><br><br>
        Guide ‚Üí Opens this User Guide anytime.<br>
        Preview ‚Üí See your gallery without the editor.<br>
        Hide Editor ‚Üí Collapse the tools to focus fully on your content.<br>
    Delete Button ‚Üí at the bottom left corner will get rid of the whole section you are currently on.
    </p>
    <br><br><br>
<p><strong >üé® Customization Workflow</strong><br><br>
Upload your images/videos.<br>
Pick a background color to match your style.<br>
Select an animation to bring media to life.<br>
Add captions/text if needed.<br>
Hit Confirm to place content into your gallery.
</p>
<br>
<br>

    <button id="closeInfo" onclick="document.getElementById('infoBox').style.display='none', document.getElementById('controls').style.display='flex', document.getElementById('buttonDiv').style.display='flex'">Close</button>
</div>
</div>



   
</div>
 <div id="controls" >
        <h2>Tools</h2>
        <input type="file" id="imageInput" accept="image/*, video/*" multiple>
        <br>
        <!--I want e-->    

          <br>
          <br>
          <label>
            Body Color:
            <input type="color" id="pageBgColor" value="#ffffff">
        </label>
          <br>
          <br>

          <label for="animationSelect">Background Animation:</label>
          <select id="animationSelect">
            <option value="fade-in">Fade In</option>
            <option value="slide-in">Slide In</option>
            <option value="scale-up">Skew In</option>
          </select>

          <br>





          
          <label for="sectionText">Add text:</label>
          <input type="text" id="sectionText" placeholder="Enter text here...">
          <br>
<label style="display: flex; flex-direction: column;">Text Animation:
  <select id="textAnimationSelect">
    <option value="text-fade">Fade</option>
    <option value="text-bounce">Bounce</option>
    <option value="text-typewriter">Typewriter</option>
  </select>
</label>
<br>

        <button style="padding-top: 0.4rem; padding-bottom: 0.4rem;" onclick="addImages()">Confirm</button>
      
    
    
    </div>
      
      <div id="photoGallery" style="height: 100vh; width: 100vw;">
        </div>



    </section>
    <div id="editorBar" style="display:none; "></div>






        <script>
            const toggleBtn = document.getElementById("toggleEditorBtn");
            toggleBtn.addEventListener("click", () => {
              document.querySelectorAll(".image-controls").forEach(el => {
                if (el.style.display === "none") {
                  el.style.display = "flex";
                } else {
                  el.style.display = "none";
                }
              });
            });
          </script>


<script>
  document.addEventListener("DOMContentLoaded", () => {
  const toggleBtn = document.getElementById("toggleSectionBtn");
  const section = document.getElementById("s0");

  toggleBtn.addEventListener("click", () => {


    section.style.display = "none";
  });
});
  </script>







<script>
function toggle() {
  const controls = document.getElementById("controls");
  
  const toggleButton = document.getElementById("toggle");

  if (controls.style.display === "none" || controls.style.display === "") {
    controls.style.display = "flex";
    toggleButton.innerText = "Hide Editor";
  } else {
    controls.style.display = "none";
    toggleButton.innerText = "Open Editor";
  }
}
</script>


<script>

function addImages() {


const fileInput = document.getElementById("imageInput");
const textInput = document.getElementById("sectionText");
const sectionText = textInput.value;

console.log("Section Text:", sectionText);

const files = fileInput.files;

if (files.length === 0) {
const gallery = document.getElementById("photoGallery");

const section = document.createElement("section");
section.className = "gallery-section";
gallery.appendChild(section);

const colorSection = document.createElement("div");
colorSection.className = "image-section";
colorSection.style.width = "100vw";
colorSection.style.height = "100vh";
colorSection.style.position = "relative";
colorSection.style.backgroundColor = "#333"; 

const controls = document.createElement("div");
controls.className = "image-controls";
controls.style.position = "absolute";
controls.style.bottom = "1rem";
controls.style.right = "10%";
controls.style.display = "flex";
controls.style.gap = "10px";
controls.style.color = "#fff";
controls.style.zIndex = "5";

const colorPicker = document.createElement("input");
colorPicker.type = "color";
colorPicker.value = "#333";
colorPicker.oninput = () => {
colorSection.style.backgroundColor = colorPicker.value;
};

controls.append("BG:", colorPicker);

const deleteBtn = document.createElement("button");
deleteBtn.className = "delete-btn";
deleteBtn.innerText = "Delete";
deleteBtn.onclick = () => gallery.removeChild(section);

colorSection.appendChild(deleteBtn);
section.appendChild(colorSection);
section.appendChild(controls);

if (sectionText) {
const textElement = document.createElement("p");
textElement.textContent = sectionText;
textElement.contentEditable = "true";
textElement.className = "editable-text";
textElement.style.position = "absolute";
textElement.style.fontSize = "2rem";
textElement.style.zIndex = "10";
textElement.style.userSelect = "none";
textElement.style.color = "white";
textElement.style.fontFamily = "Arial, sans-serif";


textElement.style.top = "20%";
textElement.style.left = "20%";

section.appendChild(textElement);
makeDraggableAndResizable(textElement);

}

if (window.galleryObserver) {
window.galleryObserver.observe(section);
}

} else {


    const s2 = document.getElementById("s2");
  s2.style.backgroundImage = "none";

const gallery = document.getElementById("photoGallery");

for (const file of files) {
const reader = new FileReader();

reader.onload = function (e) {
const section = document.createElement("section");
section.className = "gallery-section";
gallery.appendChild(section);

if (window.observeNewSection) window.observeNewSection(section);

if (file.type.startsWith("image/")) {
const imageSection = document.createElement("div");
imageSection.className = "image-section";
imageSection.style.width = "100vw";
imageSection.style.height = "100vh";
imageSection.style.backgroundImage = `url(${e.target.result})`;
imageSection.style.backgroundSize = "cover";
imageSection.style.backgroundPosition = "center";
imageSection.style.backgroundRepeat = "no-repeat";
imageSection.style.position = "relative";

const controls = createControls(imageSection);

const deleteBtn = document.createElement("button");
deleteBtn.className = "delete-btn";
deleteBtn.innerText = "Delete";
deleteBtn.onclick = () => gallery.removeChild(section);

imageSection.appendChild(deleteBtn);
section.appendChild(imageSection);
section.appendChild(controls);
} else if (file.type.startsWith("video/")) {
const video = document.createElement("video");
video.src = e.target.result;
video.controls = false;
video.autoplay = true;
video.loop = true;
video.muted = true;
video.style.width = "100vw";
video.style.height = "100vh";
video.style.objectFit = "cover";
section.appendChild(video);
}

if (sectionText) {
const textElement = document.createElement("p");
textElement.textContent = sectionText;
textElement.contentEditable = "true";
textElement.className = "editable-text";
textElement.style.position = "absolute";
textElement.style.fontSize = "2rem";
textElement.style.zIndex = "10";
textElement.style.userSelect = "none";
textElement.style.color = "white";
textElement.style.fontFamily = "Arial, sans-serif";


textElement.style.top = "20%";
textElement.style.left = "20%";

section.appendChild(textElement);
makeDraggableAndResizable(textElement);

}


if (window.galleryObserver) {
window.galleryObserver.observe(section);
}
};

reader.readAsDataURL(file);
}
}
fileInput.value = "";
textInput.value = "";
}

function createControls(imageSection) {
const controls = document.createElement("div");
controls.className = "image-controls";
controls.style.position = "absolute";
controls.style.bottom = "1rem";
controls.style.right = "10%";
controls.style.display = "flex";
controls.style.gap = "10px";
controls.style.flexWrap = "wrap";
controls.style.color = "#fff";
controls.style.pointerEvents = "auto";
controls.style.background = "transparent";
controls.style.zIndex = "5";

const colorPicker = document.createElement("input");
colorPicker.type = "color";
colorPicker.value = "#ffffff";
colorPicker.oninput = () => {
imageSection.style.backgroundColor = colorPicker.value;
};

const filterSelect = document.createElement("select");
["none", "grayscale(100%)",  "contrast(60%)", "contrast(120%)", "brightness(50%)", "brightness(150%)", "sepia(80%)", "hue-rotate(180deg)",  "blur(8px)", "blur(3px)", "opacity(0.6)"  ].forEach(f => {
const opt = document.createElement("option");
opt.value = f;
opt.textContent = f === "none" ? "None" : f;
filterSelect.appendChild(opt);
});
filterSelect.onchange = () => {
imageSection.style.filter = filterSelect.value;
};

const sizeSlider = document.createElement("input");
sizeSlider.type = "range";
sizeSlider.min = 50;
sizeSlider.max = 150;
sizeSlider.value = 100;
sizeSlider.oninput = () => {
imageSection.style.backgroundSize = `${sizeSlider.value}% auto`;
};

controls.append("BG:", colorPicker, " Filter:", filterSelect, " Size:", sizeSlider);

return controls;
}


function makeDraggableAndResizable(element) {
let isDragging = false;
let isResizing = false;
let offsetX = 0;
let offsetY = 0;

const resizeHandle = document.createElement("div");
resizeHandle.className = "resize-handle";
element.appendChild(resizeHandle);

element.addEventListener("mousedown", (e) => {
if (e.target !== resizeHandle) {
isDragging = true;
offsetX = e.clientX - element.offsetLeft;
offsetY = e.clientY - element.offsetTop;
e.preventDefault();
}
});

element.addEventListener("dblclick", () => {
element.contentEditable = "true";
element.focus();
});
element.addEventListener("blur", () => {
element.contentEditable = "false";
});



resizeHandle.addEventListener("mousedown", (e) => {
isResizing = true;
e.preventDefault();
});

document.addEventListener("mousemove", (e) => {
if (isDragging) {
element.style.left = `${e.clientX - offsetX}px`;
element.style.top = `${e.clientY - offsetY}px`;
}
if (isResizing) {
const newWidth = e.clientX - element.offsetLeft;
const newHeight = e.clientY - element.offsetTop;
element.style.width = `${newWidth}px`;
element.style.height = `${newHeight}px`;
element.style.fontSize = `${newWidth / 10}px`;
}
});

document.addEventListener("mouseup", () => {
isDragging = false;
isResizing = false;
});
}






document.addEventListener("DOMContentLoaded", () => {
const pageBgPicker = document.getElementById("pageBgColor");
if (pageBgPicker) { 
pageBgPicker.oninput = () => {
document.body.style.backgroundColor = pageBgPicker.value;
document.documentElement.style.backgroundColor = pageBgPicker.value;
};
}
});

document.addEventListener("DOMContentLoaded", () => {
const observerOptions = {
root: null,
threshold: 0.24
};
const observer = new IntersectionObserver((entries, obs) => {
entries.forEach(entry => {
if (entry.isIntersecting) {
entry.target.classList.add("visible");
} else {
entry.target.classList.remove("visible");
}
});
}, observerOptions);
document.querySelectorAll(".gallery-section").forEach(sec => observer.observe(sec));
window.observeNewSection = (section) => observer.observe(section);
window.galleryObserver = observer; 
});



</script>




<script>
let isCreatorMode = false; 

document.getElementById("createSection").style.display = "none";

    document.getElementById("controls").style.display = "none";
    document.getElementById("s2").style.display = "none";
    
    document.getElementById("enterCreator").onclick = () => {
      const email = document.getElementById("creatorUsername").value;
      const pw = document.getElementById("creatorPassword").value;
    
      if (email === "Otto.mularii@gmail.com" && pw === "007") {
        isCreatorMode = true;

        
        alert("Sign in succesful.\nWelcome!");

    
        
        document.getElementById("createSection").style.display = "none";

        document.getElementById("s2").style.display = "flex";
        document.getElementById("controls").style.display = "flex";
        document.getElementById("s1").style.display = "none";
        document.getElementById("editorBar").style.display = "flex"; 
        document.getElementById("modePrompt").style.display = "none"; 
    
      } else {
        alert("Incorrect email or password. Try again.");
        isCreatorMode = false;
    
        document.getElementById("s1").style.display = "flex";
        document.getElementById("s2").style.display = "none";   
        document.getElementById("editorBar").style.display = "none";
        document.getElementById("controls").style.display = "none";
        document.getElementById("modePrompt").style.display = "flex"; 

      }
    
      document.querySelectorAll(".image-controls").forEach(ctrl => {
        ctrl.style.display = isCreatorMode ? "flex" : "none";
      });
    };
</script>




<!--

<script>
    let isCreatorMode = false; 
    document.getElementById("controls").style.display = "none";
    document.getElementById("s2").style.display = "none";



document.getElementById("enterCreator").onclick = () => {
  const pw = document.getElementById("creatorPassword").value;
  if (pw === "007") {
    isCreatorMode = true;
    alert("Welcome, creator!");
    document.getElementById("s2").style.display = "flex";

    document.getElementById("controls").style.display = "flex";

    document.getElementById("s1").style.display = "none";
    document.getElementById("editorBar").style.display = "flex"; 
    document.getElementById("modePrompt").style.display = "none"; 
  } else {
    alert("Incorrect password. Spectator mode active.");
    isCreatorMode = false;
    document.getElementById("s1").style.display = "flex";

    document.getElementById("editorBar").style.display = "none";
    document.getElementById("controls").style.display = "none";
     
  }

  document.querySelectorAll(".image-controls").forEach(ctrl => {
    ctrl.style.display = isCreatorMode ? "flex" : "none";
  });
};
</script>
-->



<script>
    document.addEventListener("DOMContentLoaded", () => {
  const loginSection = document.getElementById("s1");
  const createSection = document.getElementById("createSection");

  const showCreateLink = document.getElementById("showCreate");
  const showLoginLink = document.getElementById("showLogin");

  const usernameInput = document.getElementById("creatorUsername");
  const passwordInput = document.getElementById("creatorPassword");
  const enterBtn = document.getElementById("enterCreator");

  const newUsernameInput = document.getElementById("newUsername");
  const createBtn = document.getElementById("createAccount");
  const accountMsg = document.getElementById("accountMsg");

  showCreateLink.addEventListener("click", (e) => {
    e.preventDefault();
    loginSection.style.display = "none";
    createSection.style.display = "flex";
    document.body.style.overflow = "visible";
  });

  showLoginLink.addEventListener("click", (e) => {
    e.preventDefault();
    createSection.style.display = "none";
    loginSection.style.display = "flex";
    document.body.style.overflow = "hidden";
  });

  enterBtn.addEventListener("click", () => {
    const pass = passwordInput.value.trim();
    if (pass === "007") {
      loginSection.style.display = "none";
      document.body.style.overflow = "visible";
    } else {
      alert("Incorrect password. Try again.");
      passwordInput.value = "";
      passwordInput.focus();
    }
  });

  createBtn.addEventListener("click", () => {
    const username = newUsernameInput.value.trim();
    const pw2 = document.getElementById("creatorPassword2").value;

    if (!username) {
      accountMsg.style.display = "block";
      return;
    }
    const randomEmail = username + /*Math.floor(Math.random()*1000) +*/ "@storksnest.com";
    const randomPassword = pw2;

    alert(`Account created successfully!\nUsername: ${randomEmail}\nPassword: ${randomPassword}`);
    
    alert(`Signed in as\n ${randomEmail}`);



    createSection.style.display = "none"; 
    document.body.style.overflow = "visible";
    s2.style.display = "flex";
    controls.style.display = "flex";



  });
});
    </script>
<script src="js.js"></script>

</body>
</html>